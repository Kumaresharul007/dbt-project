semantic_models: 
  - name:  orders
    description: Describes the order details of the customers
    model: ref('stg_orders')
    defaults:
      agg_time_dimension: order_date
    entities:
      - name: order_id
        type: primary
        expr: order_id
    dimensions:
      - name: order_date
        description: "The date when the order was placed"
        type: time
        label: Date of transaction
        is_partition: true
        type_params:
          time_granularity: day
    measures:
      - name: revenue
        description: The total revenue for each order.
        agg: sum
        expr: total_amount

metrics:
  - name: revenue
    type: simple
    description: Revenue generated by customer orders
    label: Revenue
    type_params:
      measure:
        name: revenue
        fill_nulls_with: 0
